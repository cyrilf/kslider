<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>Kslider Demo</title>
		<meta charset="utf-8">
		<link href="css/kslider.css" type="text/css" rel="stylesheet">
		<script src="js/jquery-1.8.min.js" type="text/javascript"></script>
		<script src="js/kslider.js" type="text/javascript"></script>
		<script type="text/javascript">
		$(document).ready(function(){
			(function($){

				 $.fn.kslider = function(options) {
					
					kslider = $(this);
					
					var defaults = {
						width: 600,
						height: 362,
						widthThumb: 120,
						heightThumb: 60,
						speed: 1000
					};
					  
					var options = $.extend(defaults, options);

					kslider.css({'width': options.width,
									'height' : options.height,
									'border' : 'solid #AAA 4px',
									'box-shadow': '0px 0px 20px 6px #AAA',
									'border-radius':'5px',
									'cursor':'pointer'});
									
					$('div', this).clone().appendTo(this);
					$('div:eq(1) img', this).css({'width' : '600px','width' : '120px'});
								
					$('div:eq(0) img', this).css('position', 'absolute').css('display', 'list-item');
					$('div:eq(1)', this).css({'top': options.height-62,'position':'relative'});
					$('div:eq(1) img', this).css('float', 'left');
					$('div:eq(0) img:not(:first-child)', this).hide();
					

					$('div:eq(1)', this).mousemove(function(e){
						var deplacement = -(e.pageX - this.offsetLeft) / (600 / (720 - 600))
						if(deplacement > -120) $(this).css('margin-left', deplacement);
					}); 
					
					$('div:eq(1) img', this).hover(function(){
						$(this).animate({opacity: 1}, 300, 'swing');
					},
					function(){
						$(this).animate({opacity: 0.6}, 100, 'swing');
					}); 
					
					$('div:eq(0) img', this).on('click', function() {
					
						$(this).fadeOut(options.speed);
						
						if($(this).next().length == 0)
						{
							$('img', kslider).first().fadeIn(options.speed);
						}
						else
						{
							$(this).next().fadeIn(options.speed);
						}
					});
					
					
					$('div:eq(1) img', this).on('click', function() {

						if(!$('div:eq(0) img:eq('+$(this).index()+')').is(':visible'))
							$('div:eq(0) img', kslider).fadeOut(options.speed);
							
						$('div:eq(0) img:eq('+$(this).index()+')', kslider).fadeIn(options.speed);
					});
					
					
			
				 };
			})(jQuery);
			
			$('#kslider').kslider();
		});
		</Script>
	</head>
	<body>
		<div id="kslider">
			<div>
				<img src="img/1.jpg" alt="kslider">
				<img src="img/2.jpg" alt="kslider">
				<img src="img/3.jpg" alt="kslider">
				<img src="img/4.png" alt="kslider">
				<img src="img/5.jpg" alt="kslider">
				<img src="img/6.png" alt="kslider">
			</div>
		</div>
	</body>
</html>